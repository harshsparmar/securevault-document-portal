@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================================
   SecureVault — Component Styles (Blue Theme + Dark Mode)
   Wrapped in @layer components so @apply resolves correctly.
   ============================================================ */

@layer components {

    /* ------- Layout Shell ------- */
    .doc-page {
        @apply py-8 sm:py-12;
    }

    .doc-container {
        @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
    }

    .doc-container--narrow {
        @apply max-w-2xl mx-auto px-4 sm:px-6 lg:px-8;
    }

    /* ------- Cards ------- */
    .card {
        @apply bg-white rounded-xl shadow-sm ring-1 ring-gray-900/5 overflow-hidden;
    }

    .card--elevated {
        @apply bg-white rounded-xl shadow-md ring-1 ring-gray-900/5 overflow-hidden;
    }

    .card__body {
        @apply p-5 sm:p-6;
    }

    /* ------- Page Header ------- */
    .page-header {
        @apply flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4;
    }

    .page-title {
        @apply text-xl font-bold text-gray-900 tracking-tight;
    }

    .page-subtitle {
        @apply text-sm text-gray-500 mt-0.5;
    }

    /* ------- Buttons ------- */
    .btn {
        @apply inline-flex items-center justify-center gap-2 font-semibold text-sm
               rounded-lg px-4 py-2.5 transition-all duration-200
               focus:outline-none focus:ring-2 focus:ring-offset-2;
    }

    .btn--primary {
        @apply bg-blue-600 text-white shadow-sm
               hover:bg-blue-500 active:bg-blue-700
               focus:ring-blue-500;
    }

    .btn--secondary {
        @apply bg-white text-gray-700 shadow-sm ring-1 ring-gray-300
               hover:bg-gray-50 active:bg-gray-100
               focus:ring-gray-400;
    }

    .btn--ghost {
        @apply text-gray-600 hover:text-gray-900 hover:bg-gray-100
               rounded-lg px-3 py-2;
    }

    .btn--sm {
        @apply text-xs px-3 py-1.5 rounded-md;
    }

    .btn--icon {
        @apply p-2 rounded-lg;
    }

    /* ------- Badges ------- */
    .badge {
        @apply inline-flex items-center px-2.5 py-1 rounded-md text-xs font-semibold tracking-wide uppercase;
    }

    .badge--pdf {
        @apply bg-red-50 text-red-700 ring-1 ring-red-600/20;
    }

    .badge--txt {
        @apply bg-gray-50 text-gray-700 ring-1 ring-gray-600/20;
    }

    .badge--office {
        @apply bg-blue-50 text-blue-700 ring-1 ring-blue-600/20;
    }

    /* ------- Document Table ------- */
    .doc-table {
        @apply min-w-full divide-y divide-gray-200;
    }

    .doc-table__head {
        @apply bg-gray-50/80;
    }

    .doc-table__th {
        @apply px-5 py-3.5 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider;
    }

    .doc-table__row {
        @apply hover:bg-blue-50/40 transition-colors duration-150;
    }

    .doc-table__td {
        @apply px-5 py-4 whitespace-nowrap text-sm;
    }

    .doc-table__name {
        @apply font-medium text-gray-900;
    }

    .doc-table__meta {
        @apply text-gray-500;
    }

    .doc-table__action {
        @apply text-blue-600 hover:text-blue-900 font-semibold transition-colors;
    }

    /* ------- File icon wrappers ------- */
    .file-icon {
        @apply flex-shrink-0 w-10 h-10 flex items-center justify-center rounded-lg;
    }

    .file-icon--pdf {
        @apply bg-red-50 text-red-500;
    }

    .file-icon--txt {
        @apply bg-gray-100 text-gray-500;
    }

    .file-icon--office {
        @apply bg-blue-50 text-blue-500;
    }

    /* ------- Upload Drop Zone ------- */
    .dropzone {
        @apply flex justify-center px-6 py-10 border-2 border-dashed border-gray-300
               rounded-xl bg-gray-50/50 cursor-pointer
               transition-all duration-200
               hover:border-blue-400 hover:bg-blue-50/30;
    }

    .dropzone--active {
        @apply border-blue-500 bg-blue-50/50 scale-[1.01];
    }

    .dropzone__label {
        @apply relative cursor-pointer rounded-md font-semibold text-blue-600
               hover:text-blue-500 focus-within:outline-none
               focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500;
    }

    /* ------- Alerts ------- */
    .alert {
        @apply rounded-xl p-4 flex items-start gap-3;
    }

    .alert--success {
        @apply bg-emerald-50 ring-1 ring-emerald-500/20;
    }

    .alert--warning {
        @apply bg-amber-50 ring-1 ring-amber-500/20;
    }

    .alert--info {
        @apply bg-sky-50 ring-1 ring-sky-500/20;
    }

    .alert--error {
        @apply bg-red-50 ring-1 ring-red-500/20;
    }

    .alert__icon {
        @apply flex-shrink-0 mt-0.5;
    }

    .alert__title {
        @apply text-sm font-semibold;
    }

    .alert__text {
        @apply text-sm leading-relaxed;
    }

    /* ------- Empty State ------- */
    .empty-state {
        @apply py-16 text-center;
    }

    .empty-state__icon {
        @apply mx-auto h-14 w-14 text-gray-300;
    }

    .empty-state__text {
        @apply mt-3 text-sm text-gray-500;
    }

    /* ------- Document Preview Meta ------- */
    .meta-grid {
        @apply grid grid-cols-2 sm:grid-cols-4 gap-4 sm:gap-6;
    }

    .meta-item__label {
        @apply text-xs font-medium text-gray-400 uppercase tracking-wider;
    }

    .meta-item__value {
        @apply mt-1 text-sm font-medium text-gray-900;
    }

    /* ------- PDF Viewer ------- */
    .pdf-viewer {
        @apply rounded-xl overflow-hidden ring-1 ring-gray-900/10;
    }

    .pdf-toolbar {
        @apply flex items-center justify-between px-4 py-2.5 bg-gray-900 text-white text-sm;
    }

    .pdf-toolbar__btn {
        @apply p-1.5 rounded-md bg-gray-800 hover:bg-gray-700 disabled:opacity-30
               disabled:cursor-not-allowed transition-colors duration-150;
    }

    .pdf-toolbar__zoom-btn {
        @apply px-2.5 py-1 rounded-md bg-gray-800 hover:bg-gray-700 text-xs font-medium
               transition-colors duration-150;
    }

    .pdf-toolbar__zoom-label {
        @apply text-xs font-mono min-w-[3.5rem] text-center text-gray-300;
    }

    .pdf-toolbar__badge {
        @apply flex items-center gap-1.5 text-xs text-emerald-400 font-medium;
    }

    .pdf-canvas-area {
        @apply overflow-y-auto overflow-x-hidden bg-gray-100;
        max-height: 78vh;
        -webkit-user-select: none;
        user-select: none;
    }

    .pdf-page {
        @apply flex justify-center py-3;
        user-select: none;
    }

    .pdf-page__inner {
        @apply relative shadow-lg bg-white rounded-sm;
        user-select: none;
        transform-origin: top center;
    }

    .pdf-page__canvas {
        pointer-events: none;
        user-select: none;
        -webkit-user-drag: none;
        display: block;
        width: 100%;
    }

    .pdf-loading {
        @apply flex items-center justify-center py-20 gap-3;
    }

    .pdf-error {
        @apply hidden text-center py-12 text-red-500 text-sm;
    }

    /* ------- Text Preview ------- */
    .text-preview {
        @apply bg-gray-50 border border-gray-200 rounded-lg p-5 overflow-auto font-mono text-sm text-gray-800
               whitespace-pre-wrap leading-relaxed;
        max-height: 72vh;
    }

    /* ------- Conversion Pending ------- */
    .conversion-pending {
        @apply text-center py-16;
    }

    .conversion-pending__spinner {
        @apply animate-spin mx-auto h-10 w-10 text-blue-400;
    }

    .conversion-pending__text {
        @apply mt-4 text-sm text-gray-500;
    }

    /* ------- Guest / Auth Layout ------- */
    .guest-shell {
        @apply min-h-screen flex flex-col sm:flex-row;
    }

    .guest-brand {
        @apply hidden sm:flex sm:w-[45%] lg:w-[42%] bg-gradient-to-br from-blue-600 via-blue-700 to-blue-900
               text-white relative overflow-hidden;
    }

    .guest-brand__inner {
        @apply flex flex-col justify-center px-10 lg:px-16 py-12 relative z-10;
    }

    .guest-brand__title {
        @apply text-3xl lg:text-4xl font-bold mt-6 tracking-tight;
    }

    .guest-brand__tagline {
        @apply mt-3 text-blue-200 text-base lg:text-lg leading-relaxed;
    }

    .guest-brand__features {
        @apply mt-10 space-y-4;
    }

    .guest-brand__feature {
        @apply flex items-center gap-3 text-sm text-blue-100;
    }

    .guest-form-area {
        @apply flex-1 flex items-center justify-center px-6 py-12 sm:px-10 bg-gray-50;
    }

    .guest-form-card {
        @apply w-full max-w-md;
    }

    /* ------- Auth Form Enhancements ------- */
    .auth-heading {
        @apply text-2xl font-bold text-gray-900 tracking-tight;
    }

    .auth-subheading {
        @apply mt-2 text-sm text-gray-500;
    }

    .auth-link {
        @apply text-sm font-medium text-blue-600 hover:text-blue-500 transition-colors;
    }

    .auth-divider {
        @apply border-t border-gray-200 my-6;
    }

    /* ------- Navigation ------- */
    .nav-bar {
        @apply bg-white/95 backdrop-blur-sm border-b border-gray-200/80 sticky top-0 z-50;
    }

    .nav-logo-text {
        @apply font-bold text-gray-900 tracking-tight;
    }

    .nav-user-btn {
        @apply inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-600
               bg-white rounded-lg ring-1 ring-gray-200
               hover:bg-gray-50 hover:text-gray-900
               focus:outline-none transition-all duration-150;
    }

    .nav-avatar {
        @apply w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-blue-700
               flex items-center justify-center text-white text-xs font-bold;
    }

    /* ------- Profile ------- */
    .profile-section {
        @apply mb-1;
    }

    .profile-section__header {
        @apply flex items-center gap-3 mb-1;
    }

    .profile-section__icon {
        @apply w-9 h-9 rounded-lg bg-blue-50 flex items-center justify-center text-blue-600;
    }

    .profile-section__icon--danger {
        @apply w-9 h-9 rounded-lg bg-red-50 flex items-center justify-center text-red-500;
    }

    .profile-section__title {
        @apply text-base font-bold text-gray-900;
    }

    .profile-section__desc {
        @apply text-sm text-gray-500 mt-0.5;
    }

    /* ------- Dark Mode Toggle ------- */
    .dark-toggle {
        @apply p-2 rounded-lg text-gray-500 hover:bg-gray-100 hover:text-gray-700
               transition-colors duration-150 focus:outline-none;
    }
}

/* ============================================================
   Dark Mode Overrides — TRUE BLACK, HIGH CONTRAST
   Applied when .dark class is on <html>
   ============================================================ */

/* ------- Base backgrounds & text ------- */
.dark body,
.dark .min-h-screen {
    background-color: #000000;
    color: #f1f5f9;
}

.dark .bg-gray-50 {
    background-color: #000000;
}

/* ------- Navigation ------- */
.dark .nav-bar {
    background-color: rgba(0, 0, 0, 0.97);
    border-color: #1e293b;
    backdrop-filter: none;
}

.dark .nav-logo-text {
    color: #ffffff;
}

.dark .nav-user-btn {
    background-color: #111111;
    color: #e2e8f0;
    --tw-ring-color: #1e293b;
}

.dark .nav-user-btn:hover {
    background-color: #1e293b;
    color: #ffffff;
}

/* ------- Cards ------- */
.dark .card,
.dark .card--elevated {
    background-color: #111111;
    box-shadow: 0 1px 3px rgba(0,0,0,.6);
    --tw-ring-color: rgba(30, 41, 59, 0.7);
}

/* ------- Page Header ------- */
.dark header {
    background-color: #111111;
    border-color: #1e293b;
}

.dark .page-title {
    color: #ffffff;
}

.dark .page-subtitle {
    color: #94a3b8;
}

/* ------- Text overrides for common Tailwind inline classes ------- */
.dark .text-gray-900,
.dark .doc-table__name,
.dark .meta-item__value,
.dark .profile-section__title {
    color: #ffffff;
}

.dark .text-gray-800 {
    color: #f1f5f9;
}

.dark .text-gray-700 {
    color: #e2e8f0;
}

.dark .text-gray-600,
.dark .doc-table__meta,
.dark .page-subtitle,
.dark .profile-section__desc,
.dark .meta-item__label,
.dark .empty-state__text {
    color: #94a3b8;
}

.dark .text-gray-500 {
    color: #94a3b8;
}

.dark .text-gray-400 {
    color: #64748b;
}

/* ------- Buttons ------- */
.dark .btn--primary {
    background-color: #2563eb;
    color: #ffffff;
}

.dark .btn--primary:hover {
    background-color: #3b82f6;
}

.dark .btn--secondary {
    background-color: #1e293b;
    color: #e2e8f0;
    --tw-ring-color: #334155;
}

.dark .btn--secondary:hover {
    background-color: #334155;
    color: #ffffff;
}

.dark .btn--ghost {
    color: #94a3b8;
}

.dark .btn--ghost:hover {
    color: #ffffff;
    background-color: #1e293b;
}

/* ------- Breeze primary/secondary buttons ------- */
.dark button[class*="bg-gray-800"] {
    background-color: #2563eb;
    color: #ffffff;
}

.dark button[class*="bg-gray-800"]:hover {
    background-color: #3b82f6;
}

/* ------- Dropdowns ------- */
.dark [class*="bg-white"] {
    background-color: #111111;
}

.dark .ring-black {
    --tw-ring-color: rgba(255, 255, 255, 0.1);
}

.dark [class*="border-gray-100"] {
    border-color: #1e293b;
}

.dark .text-sm.font-medium.text-gray-900 {
    color: #ffffff;
}

.dark .text-xs.text-gray-500 {
    color: #94a3b8;
}

/* Dropdown link styling */
.dark a[class*="block"][class*="text-gray-700"],
.dark a[class*="text-gray-700"] {
    color: #e2e8f0;
}

.dark a[class*="block"][class*="text-gray-700"]:hover,
.dark a[class*="text-gray-700"]:hover {
    background-color: #1e293b;
    color: #ffffff;
}

/* ------- Document Table ------- */
.dark .doc-table {
    --tw-divide-color: #1e293b;
}

.dark .doc-table__head {
    background-color: #0a0a0a;
}

.dark .doc-table__th {
    color: #64748b;
}

.dark .doc-table__row:hover {
    background-color: rgba(37, 99, 235, 0.1);
}

.dark .divide-gray-100 {
    --tw-divide-color: #1e293b;
}

/* ------- Badges in dark mode ------- */
.dark .badge--pdf {
    background-color: rgba(239, 68, 68, 0.15);
    color: #fca5a5;
    --tw-ring-color: rgba(239, 68, 68, 0.3);
}

.dark .badge--txt {
    background-color: rgba(148, 163, 184, 0.15);
    color: #cbd5e1;
    --tw-ring-color: rgba(148, 163, 184, 0.3);
}

.dark .badge--office {
    background-color: rgba(59, 130, 246, 0.15);
    color: #93c5fd;
    --tw-ring-color: rgba(59, 130, 246, 0.3);
}

/* ------- File Icons ------- */
.dark .file-icon--pdf {
    background-color: rgba(239, 68, 68, 0.15);
    color: #f87171;
}

.dark .file-icon--txt {
    background-color: rgba(148, 163, 184, 0.15);
    color: #94a3b8;
}

.dark .file-icon--office {
    background-color: rgba(59, 130, 246, 0.15);
    color: #60a5fa;
}

/* ------- Table action links ------- */
.dark .doc-table__action {
    color: #60a5fa;
}

.dark .doc-table__action:hover {
    color: #93c5fd;
}

/* ------- Alerts ------- */
.dark .alert--success {
    background-color: rgba(16, 185, 129, 0.12);
    --tw-ring-color: rgba(16, 185, 129, 0.25);
}

.dark .alert--success .text-emerald-800,
.dark .alert--success .alert__text {
    color: #6ee7b7;
}

.dark .alert--warning {
    background-color: rgba(245, 158, 11, 0.12);
    --tw-ring-color: rgba(245, 158, 11, 0.25);
}

.dark .alert--warning .text-amber-800,
.dark .alert--warning .alert__title {
    color: #fcd34d;
}

.dark .alert--warning .text-amber-700,
.dark .alert--warning .alert__text {
    color: #fbbf24;
}

.dark .alert--info {
    background-color: rgba(14, 165, 233, 0.12);
    --tw-ring-color: rgba(14, 165, 233, 0.25);
}

.dark .alert--error {
    background-color: rgba(239, 68, 68, 0.12);
    --tw-ring-color: rgba(239, 68, 68, 0.25);
}

.dark .alert--error .text-red-700,
.dark .alert--error .alert__text {
    color: #fca5a5;
}

/* ------- Upload Dropzone ------- */
.dark .dropzone {
    background-color: rgba(17, 17, 17, 0.8);
    border-color: #334155;
}

.dark .dropzone:hover {
    border-color: #3b82f6;
    background-color: rgba(37, 99, 235, 0.08);
}

.dark .dropzone .text-gray-300 {
    color: #475569;
}

.dark .dropzone .text-gray-600 {
    color: #94a3b8;
}

.dark .dropzone .text-gray-400 {
    color: #64748b;
}

/* ------- File info chip (upload) ------- */
.dark [class*="bg-blue-50"] {
    background-color: rgba(37, 99, 235, 0.12);
}

.dark .text-blue-900 {
    color: #93c5fd;
}

.dark .text-blue-600 {
    color: #60a5fa;
}

/* ------- Forms & Inputs ------- */
.dark input[type="text"],
.dark input[type="email"],
.dark input[type="password"],
.dark input[type="number"],
.dark input[type="search"],
.dark select,
.dark textarea {
    background-color: #0a0a0a;
    border-color: #1e293b;
    color: #f1f5f9;
}

.dark input[type="text"]:focus,
.dark input[type="email"]:focus,
.dark input[type="password"]:focus,
.dark input[type="number"]:focus,
.dark select:focus,
.dark textarea:focus {
    border-color: #3b82f6;
    --tw-ring-color: #3b82f6;
}

.dark input[readonly] {
    background-color: #111111;
    color: #64748b;
}

.dark input[type="checkbox"] {
    background-color: #0a0a0a;
    border-color: #334155;
}

.dark label {
    color: #e2e8f0;
}

/* ------- Auth pages (guest layout) ------- */
.dark .guest-form-area {
    background-color: #000000;
}

.dark .auth-heading {
    color: #ffffff;
}

.dark .auth-subheading {
    color: #94a3b8;
}

.dark .auth-link {
    color: #60a5fa;
}

.dark .auth-link:hover {
    color: #93c5fd;
}

/* ------- Text Preview ------- */
.dark .text-preview {
    background-color: #0a0a0a;
    border-color: #1e293b;
    color: #f1f5f9;
}

/* ------- PDF Viewer ------- */
.dark .pdf-canvas-area {
    background-color: #111111;
}

/* ------- Profile ------- */
.dark .profile-section__icon {
    background-color: rgba(37, 99, 235, 0.15);
    color: #60a5fa;
}

.dark .profile-section__icon--danger {
    background-color: rgba(239, 68, 68, 0.15);
    color: #f87171;
}

.dark .text-lg.font-medium.text-gray-900,
.dark h2.text-gray-900,
.dark h2.text-lg {
    color: #ffffff;
}

.dark p.text-gray-600,
.dark .text-sm.text-gray-600 {
    color: #94a3b8;
}

/* ------- Mobile Nav ------- */
.dark .border-gray-100,
.dark .border-gray-200 {
    border-color: #1e293b;
}

/* ------- Dark Mode Toggle ------- */
.dark .dark-toggle {
    color: #94a3b8;
}

.dark .dark-toggle:hover {
    background-color: #1e293b;
    color: #ffffff;
}

/* ------- Responsive nav link ------- */
.dark .hover\:bg-gray-100:hover {
    background-color: #1e293b;
}

.dark .hover\:bg-gray-50:hover {
    background-color: #111111;
}

/* ------- Hamburger ------- */
.dark .hover\:text-gray-500:hover,
.dark .hover\:text-gray-700:hover,
.dark .hover\:text-gray-900:hover {
    color: #ffffff;
}

/* ------- Conversion pending ------- */
.dark .conversion-pending__text {
    color: #94a3b8;
}

/* ------- Session status on auth pages ------- */
.dark .text-green-600 {
    color: #4ade80;
}

/* ------- Saved text on profile ------- */
.dark p[class*="text-gray-600"] {
    color: #94a3b8;
}

/* ------- Input error text ------- */
.dark .text-red-600 {
    color: #f87171;
}

